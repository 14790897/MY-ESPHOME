esphome:
  name: bmp-aht-esp32c3
  friendly_name: 红外遥控, 温湿度大气压强传感器节点

esp32:
  board: airm2m_core_esp32c3
  framework:
    type: arduino
logger:
  level: DEBUG
  logs:
    remote_receiver: DEBUG
    remote_transmitter: DEBUG

api:

ota:
  platform: esphome

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

remote_transmitter:
  pin: GPIO19
  carrier_duty_percent: 50%
  id: my_transmitter

remote_receiver:
  pin: 
    number: GPIO1
    inverted: true
  dump: raw
  id: my_receiver
#   tolerance: 50%
#   buffer_size: 10kb
#   filter: 250us
#   idle: 4ms

i2c:
  sda: 4
  scl: 5
  scan: true
  id: bus_a


sensor:
  # AHT20 Temperature and Humidity Sensor (Fixed address 0x38)
  - platform: aht10
    temperature:
      name: "AHT20 Temperature"
      id: room_temperature
    humidity:
      name: "AHT20 Humidity"
    update_interval: 300s

  # BMP280 Pressure Sensor
  - platform: bmp280_i2c
    temperature:
      name: "BMP280 Temperature"
    pressure:
      name: "BMP280 Pressure"
    address: 0x77
    i2c_id: bus_a
    update_interval: 300s

# climate:
#   - platform: gree
#     name: Gree Air Conditioner
#     model: yaa
#     transmitter_id: my_transmitter
#     sensor: room_temperature


# switch:
#   - platform: template
#     name: "AC Power"
#     id: ac_power
#     optimistic: true
#     turn_on_action:
#       - repeat:
#           count: 1
#           then:
#             - remote_transmitter.transmit_raw:
#                 carrier_frequency: 38kHz
#                 code: [
#                   9008, -4494, 620, -1706, 626, -560, 646, -560, 650, -1680, 626, -1682, 624, -1680, 626, -560, 648, -558, 644, -1684, 624, -560, 646, -1682, 622, -1684, 624, -560, 646, -560, 644, -560, 650, -556, 646, -560, 646, -560, 646, -560, 646, -558, 646, -560, 646, -1682, 626, -560, 646, -558, 646, -560, 646, -560, 646, -560, 646, -562, 646, -1682, 624, -560, 644, -1684, 624, -558, 646, -560, 644, -1682, 624, -560, 646]
#             - delay: 150ms
#             - remote_transmitter.transmit_raw:
#                 carrier_frequency: 38kHz
#                 code: [
#                   8968, -4514, 626, -1680, 628, -558, 648, -558, 652, -1676, 630, -1676, 654, -1652, 626, -558, 648, -560, 646, -1680, 630, -556, 650, -1678, 628, -1680, 628, -558, 648, -556, 676, -558, 648, -558, 658, -546, 648, -558, 650, -552, 648, -560, 650, -554, 658, -1670, 628, -558, 652, -554, 646, -560, 658, -548, 646, -560, 646, -558, 650, -1678, 632, -1674, 630, -1678, 636, -548, 676, -528, 652, -1676, 630, -554, 678
#                 ]
#             - delay: 150ms

#     turn_off_action:
#       - repeat:
#           count: 1
#           then:
#             - remote_transmitter.transmit_raw:
#                 carrier_frequency: 38kHz
#                 code: [
# 8994, -4486, 654, -1682, 622, -554, 652, -556, 650, -556, 650, -1682, 624, -1684, 622, -554, 652, -554, 652, -1682, 622, -556, 650, -1684, 624, -1682, 626, -558, 646, -556, 654, -552, 652, -554, 650, -556, 650, -554, 650, -558, 648, -556, 650, -556, 650, -1686, 624, -556, 648, -554, 652, -556, 650, -584, 622, -554, 652, -558, 648, -1684, 622, -560, 646, -1682, 624, -556, 650, -556, 648, -1682, 624, -560, 646
#                 ]
#             - delay: 150ms
#             - remote_transmitter.transmit_raw:
#                 carrier_frequency: 38kHz
#                 code: [
#                     8990, -4488, 648, -1686, 624, -582, 622, -584, 620, -558, 648, -1684, 622, -1684, 622, -558, 646, -558, 648, -1684, 622, -584, 620, -1684, 624, -1684, 622, -556, 648, -584, 622, -558, 646, -562, 646, -584, 622, -560, 624, -580, 650, -558, 646, -558, 646, -1686, 622, -584, 598, -580, 626, -608, 622, -558, 646, -560, 644, -562, 646, -1684, 622, -1686, 620, -1686, 600, -582, 646, -558, 646, -1686, 622, -560, 622
#                 ]
#             - delay: 150ms

button:
  # - platform: template
  #   name: "AC Temperature Up"
  #   on_press:
  #       - remote_transmitter.transmit_raw:
  #           transmitter_id: my_transmitter
  #           carrier_frequency: 38kHz
  #           code: [9020, -4486, 650, -1684, 622, -582, 624, -556, 650, -1684, 622, -1684, 624, -1660, 648, -554, 650, -584, 624, -554, 652, -1682, 624, -1686, 622, -1684, 624, -556, 648, -584, 622, -556, 650, -556, 650, -582, 622, -558, 648, -556, 650, -556, 650, -556, 650, -1684, 624, -556, 650, -582, 624, -554, 650, -556, 650, -582, 622, -584, 622, -1682, 622, -558, 650, -1682, 624, -558, 648, -556, 650, -1684, 622, -556, 650]
  #       - delay: 150ms
  #       - remote_transmitter.transmit_raw:
  #           transmitter_id: my_transmitter
  #           carrier_frequency: 38kHz
  #           code: [8988, -4490, 648, -1686, 622, -558, 646, -560, 646, -1686, 622, -1684, 624, -1684, 622, -556, 648, -560, 644, -560, 648, -1684, 622, -1684, 622, -1686, 624, -558, 646, -584, 598, -582, 646, -586, 620, -562, 644, -558, 646, -562, 644, -560, 624, -582, 646, -1684, 620, -562, 646, -558, 646, -560, 648, -560, 644, -562, 644, -558, 648, -1686, 598, -1708, 622, -1686, 622, -560, 644, -586, 622, -1686, 598, -608, 620]
  # - platform: template
  #   name: "AC Temperature Down"
  #   on_press:
  #       - remote_transmitter.transmit_raw:
  #           transmitter_id: my_transmitter
  #           carrier_frequency: 38kHz
  #           code: [9018, -4482, 654, -1656, 650, -558, 646, -554, 654, -1682, 624, -1684, 624, -1684, 624, -554, 650, -554, 652, -556, 648, -558, 646, -1684, 624, -1684, 624, -558, 648, -560, 646, -556, 648, -584, 622, -556, 650, -554, 650, -560, 646, -582, 624, -556, 650, -1682, 624, -584, 622, -556, 648, -556, 650, -556, 648, -584, 622, -554, 652, -1682, 624, -584, 622, -1684, 624, -554, 650, -558, 648, -1658, 650, -558, 648]
  #       - delay: 150ms
  #       - remote_transmitter.transmit_raw:
  #           transmitter_id: my_transmitter
  #           carrier_frequency: 38kHz
  #           code: [8992, -4488, 652, -1682, 626, -554, 652, -558, 648, -1682, 624, -1682, 628, -1678, 626, -554, 652, -556, 648, -584, 624, -556, 650, -1682, 622, -1686, 622, -584, 622, -556, 650, -560, 646, -584, 624, -558, 648, -558, 648, -554, 652, -582, 624, -554, 650, -1684, 624, -582, 624, -558, 646, -558, 648, -556, 650, -582, 622, -558, 650, -1682, 624, -1682, 624, -1682, 624, -558, 648, -582, 624, -1684, 622, -558, 648]  

  - platform: template
    name: "Purify Fan Speed Up"
    on_press:
        - remote_transmitter.transmit_raw:
            transmitter_id: my_transmitter
            carrier_frequency: 38kHz
            code: [9034, -4504, 612, -1682, 562, -1706, 562, -542, 590, -1708, 560, -1708, 560, -546, 586, -576, 560, -1706, 562, -1708, 560, -544, 586, -1708, 562, -1706, 560, -548, 586, -576, 584, -550, 558, -548, 616, -1676, 558, -1708, 560, -1708, 560, -544, 588, -550, 584, -1706, 564, -544, 588, -1706, 562, -542, 588, -546, 584, -550, 584, -1708, 560, -1706, 562, -574, 558, -1704, 562, -546, 588]
        
  - platform: template
    name: "Purify Fan Speed Down"
    on_press:
        - remote_transmitter.transmit_raw:
            transmitter_id: my_transmitter
            carrier_frequency: 38kHz
            code: [9018, -4508, 586, -1704, 562, -1704, 562, -548, 584, -1702, 562, -1706, 564, -546, 586, -548, 584, -1704, 562, -1702, 562, -572, 560, -1704, 562, -1704, 562, -570, 562, -546, 586, -548, 584, -548, 584, -1704, 562, -572, 560, -1704, 562, -1702, 560, -550, 586, -1702, 586, -548, 562, -1702, 562, -546, 588, -1702, 560, -576, 560, -546, 586, -1702, 588, -546, 560, -1702, 564, -546, 586]
  - platform: template
    name: "Fan Open/Close"
    on_press: 
        - remote_transmitter.transmit_raw:
            transmitter_id: my_transmitter
            carrier_frequency: 38kHz
            code: [2500, -3268, 386, -1224, 1222, -346, 1270, -328, 448, -1216, 1228, -386, 1220, -390, 1218, -348, 1266, -390, 1220, -344, 440, -1218, 392, -1218, 388, -1224, 388, -1224, 390, -1220, 388, -1224, 1226, -386, 394, -7534, 2500, -3272, 386, -1226, 1226, -384, 1226, -334, 446, -1216, 1226, -342, 1266, -390, 1222, -342, 1270, -344, 1270, -336, 446, -1216, 392, -1218, 420, -1192, 390, -1220, 392, -1218, 392, -1220, 1226, -384, 396, -7532, 2502, -3270, 388, -1224, 1222, -388, 1226, -332, 478, -1186, 1226, -342, 1262, -392, 1220, -344, 1268, -338, 1274, -388, 394, -1216, 394, -1218, 388, -1222, 386, -1226, 386, -1224, 390, -1220, 1222, -388, 394, -7536, 2498, -3272, 388, -1224, 1226, -384, 1228, -382, 392, -1218, 1228, -384, 1222, -390, 1220, -348, 1262, -316, 1300, -386, 394, -1214, 396, -1218, 390, -1222, 386, -1224, 390, -1222, 396, -1214, 1222, -348, 432, -7540, 2504, -3268, 386, -1226, 1222, -388, 1230, -382, 418, -1194, 1228, -384, 1222, -388, 1222, -390, 1220, -390, 1222, -390, 390, -1220, 388, -1224, 386, -1224, 384, -1226, 386, -1226, 386, -1226, 1224, -388, 388]
  # - platform: template
  #   name: "Fan Close"
  #   on_press: 
  #       - remote_transmitter.transmit_raw:
  #           transmitter_id: my_transmitter
  #           carrier_frequency: 38kHz
  #           code: [2500, -3268, 386, -1224, 1222, -346, 1270, -328, 448, -1216, 1228, -386, 1220, -390, 1218, -348, 1266, -390, 1220, -344, 440, -1218, 392, -1218, 388, -1224, 388, -1224, 390, -1220, 388, -1224, 1226, -386, 394]



